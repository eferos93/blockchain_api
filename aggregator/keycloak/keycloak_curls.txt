curl -v -d "client_id=va-webapp" -d "username=kkech@athenarc.gr" \
-d "password=123456" -d "grant_type=password" \
https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/token

curl -X POST -d "client_id=dt4h-ca" -d \
"client_secret=ZTZqz6wBXVV9wm8xtBkiEQEOPL9JGj5U" --data-urlencode \
"grant_type=urn:ietf:params:oauth:grant-type:token-exchange" -d \
"subject_token=eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk0MTc3OTgsImlhdCI6MTc1OTQxNDE5OCwianRpIjoiNTFjM2YxZjAtNjc2NC00OTE5LWI1YTgtMTdiNWZmMjZmYWY5IiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIwNDIzYTVmMy0zYWE2LTQ5YTgtYWJkZi00ODVlMjNkODA4YmMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJmbF9tYW5hZ2VyX2FwaSIsInNpZCI6ImJiMDQyZjRkLTkzYjctNGJhNy1hNmMxLTc5NmM0ZWRmMjdhNSIsInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwiaW5zdGl0dXRpb24iOiJBdGhlbmEgUi5DLiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IkNoYXJhIFRzb3VrYWxhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoieHRzb3VrYWxhQGdtYWlsLmNvbSIsImVtYWlsIjoieHRzb3VrYWxhQGdtYWlsLmNvbSJ9.0bAIfqOiUZuLmpGmtGE7knSVaLgo3dWO3wXuguZIL8o3dKbG19iZ7ts1q8EWJqX-nCLMTtFFIOjsszaVFMnGCg" \
--data-urlencode \
"requested_token_type=urn:ietf:params:oauth:token-type:access_token" \
https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/token


OR DIRECTLY GET TOKEN
curl -v -d "client_id=dt4h-ca" -d \
"client_secret=ZTZqz6wBXVV9wm8xtBkiEQEOPL9JGj5U" -d \
"username=kkech@athenarc.gr" -d "password=123456" -d \
"grant_type=password" \
https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/token



GET USER ACCOUNT 
curl -v -H "Accept: application/json" -H "Authorization: Bearer eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk0OTUzMjYsImlhdCI6MTc1OTQ5MzUyNiwianRpIjoiNjkyODQ2YzktNTAwOC00YmI0LWIxNjItYWI1ODFjNTUxZDYwIiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6WyJkdDRoLWNhIiwiYWNjb3VudCJdLCJzdWIiOiIyODFkYmNhNS01Y2I3LTRjNWMtOGVhMS1iZjYwNTlmNGIzNjciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdDRoLWNhIiwic2lkIjoiZmI4OGQxNTYtNTY0Ny00OWI3LWE3M2MtMzUxOTFiOWVmOTM4IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmNzZWNyZXQgcHJvZmlsZSBlbWFpbCIsImluc3RpdHV0aW9uIjoiQmFyY2Vsb25hIFN1cGVyY29tcHV0aW5nIENlbnRlciIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYmNzZWNyZXQiOiJCY1NlY3JldF8xNzU5MzQ5NTczODczMTYwOTkyIiwibmFtZSI6IktvbnN0YW50aW5vcyBLZWNoYWdpYXMiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJra2VjaEBhdGhlbmFyYy5nciIsImdpdmVuX25hbWUiOiJLb25zdGFudGlub3MiLCJmYW1pbHlfbmFtZSI6IkZpbGlwcG9wb2xpdGlzIiwiZW1haWwiOiJra2VjaEBhdGhlbmFyYy5nciJ9.ysTB1fhWy9nA3TaYjGM3d2Qi7E0j3VfarTf1-74gjgOmcRNm78SU7Chy0s5_4BWEhKNBrnvdXbfJre_1HLtwDg" \
-H "Content-Type: application/json" \
"https://inb.bsc.es/auth/realms/datatools4heart/account/"

GET USER INFO 
curl -H "Accept: application/json" -H "Authorization: Bearer eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk0OTMzMDksImlhdCI6MTc1OTQ5MTUwOSwianRpIjoiMjJkYmMwOGQtZThkMi00MTgzLWE2MzEtMjc2NGQ3NmI1ZDJkIiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6WyJkdDRoLWNhIiwiYWNjb3VudCJdLCJzdWIiOiIyODFkYmNhNS01Y2I3LTRjNWMtOGVhMS1iZjYwNTlmNGIzNjciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdDRoLWNhIiwic2lkIjoiNjc5MjhmYzYtMDVkMy00Y2EyLTlmNzEtZGU2MWE1Y2U1OWQ3IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmNzZWNyZXQgcHJvZmlsZSBlbWFpbCIsImluc3RpdHV0aW9uIjoiQmFyY2Vsb25hIFN1cGVyY29tcHV0aW5nIENlbnRlciIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYmNzZWNyZXQiOiJCY1NlY3JldF8xNzU5MzQ5NTczODczMTYwOTkyIiwibmFtZSI6IktvbnN0YW50aW5vcyBLZWNoYWdpYXMiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJra2VjaEBhdGhlbmFyYy5nciIsImdpdmVuX25hbWUiOiJLb25zdGFudGlub3MiLCJmYW1pbHlfbmFtZSI6IkZpbGlwcG9wb2xpdGlzIiwiZW1haWwiOiJra2VjaEBhdGhlbmFyYy5nciJ9.SE53cl5sushB6_wg3v5aFfDi42-gNbmRaekdroUXDJfNuLgfrpeBG3tQ_Of93q3qZKiDr-xTgRhk3mi7oUH5DA" "https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/userinfo"


PUT DATA 

curl -H "Accept: application/json" -H \
"Authorization: Bearer eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTE5NjM4MTAsImlhdCI6MTc1MTk2MjAxMCwianRpIjoiYTNmOWM4MGUtNzkyMi00ODg1LWE4MDEtYzI1MzEzNDM4MWQxIiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6WyJkdDRoLWNhIiwiYWNjb3VudCJdLCJzdWIiOiIyODFkYmNhNS01Y2I3LTRjNWMtOGVhMS1iZjYwNTlmNGIzNjciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdDRoLWNhIiwic2lkIjoiMWU3MDE2NzctNDIzOC00YjIzLWJlODUtOGU1M2RhZGI4ZGE1IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmNzZWNyZXQgcHJvZmlsZSBlbWFpbCIsImluc3RpdHV0aW9uIjoiQXRoZW5hIFJlc2VhcmNoIENlbnRlciIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYmNzZWNyZXQiOiJmYnNkZmFqa2xmIiwibmFtZSI6IktvbnN0YW50aW5vcyBLZWNoYWdpYXMiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJra2VjaEBhdGhlbmFyYy5nciIsImdpdmVuX25hbWUiOiJLb25zdGFudGlub3MiLCJmYW1pbHlfbmFtZSI6IkZpbGlwcG9wb2xpdGlzIiwiZW1haWwiOiJra2VjaEBhdGhlbmFyYy5nciJ9.0EglugmTFP4LP6BzkgyzWNT4Te50IXhYb8en3MI_j-DqQjRQUYAkLOWxZMJwio1yZHxOA3xXejQeUioA15m1Dg" -H "Content-Type: application/json" \
"https://inb.bsc.es/auth/realms/datatools4heart/account/" -d \
'{
   "attributes": {
     "given_name": "Konstantinos",
     "family_name": "Filippopolitis",
     "institution": "Athena Research Center",
     "bcsecret": "ciao"
   }
}'


here you can get certs and public keys to verify token (token has a signature )
https://inb.bsc.es/auth/realms/datatools4heart/.well-known/openid-configuration
