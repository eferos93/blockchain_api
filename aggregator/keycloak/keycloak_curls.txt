curl -v -d "client_id=va-webapp" -d "username=kkech@athenarc.gr" \
-d "password=123456" -d "grant_type=password" \
https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/token

curl -X POST -d "client_id=dt4h-ca" -d \
"client_secret=ZTZqz6wBXVV9wm8xtBkiEQEOPL9JGj5U" --data-urlencode \
"grant_type=urn:ietf:params:oauth:grant-type:token-exchange" -d \
"subject_token=eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk0MTc3OTgsImlhdCI6MTc1OTQxNDE5OCwianRpIjoiNTFjM2YxZjAtNjc2NC00OTE5LWI1YTgtMTdiNWZmMjZmYWY5IiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIwNDIzYTVmMy0zYWE2LTQ5YTgtYWJkZi00ODVlMjNkODA4YmMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJmbF9tYW5hZ2VyX2FwaSIsInNpZCI6ImJiMDQyZjRkLTkzYjctNGJhNy1hNmMxLTc5NmM0ZWRmMjdhNSIsInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwiaW5zdGl0dXRpb24iOiJBdGhlbmEgUi5DLiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IkNoYXJhIFRzb3VrYWxhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoieHRzb3VrYWxhQGdtYWlsLmNvbSIsImVtYWlsIjoieHRzb3VrYWxhQGdtYWlsLmNvbSJ9.0bAIfqOiUZuLmpGmtGE7knSVaLgo3dWO3wXuguZIL8o3dKbG19iZ7ts1q8EWJqX-nCLMTtFFIOjsszaVFMnGCg" \
--data-urlencode \
"requested_token_type=urn:ietf:params:oauth:token-type:access_token" \
https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/token


OR DIRECTLY GET TOKEN
curl -d "client_id=dt4h-ca" -d \
"client_secret=ZTZqz6wBXVV9wm8xtBkiEQEOPL9JGj5U" -d \
"username=xtsoukala@gmail.com" -d "password=EH9mRKfqKygtK9c" -d \
"grant_type=password" \
https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/token



GET USER ACCOUNT 
curl -v -H "Accept: application/json" -H "Authorization: Bearer eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk4Njc1MDQsImlhdCI6MTc1OTg2NTcwNCwianRpIjoiMDM2NTI1NTMtNzZmNi00MmNkLThjZGMtZmUzMDNjMWQ4ODg3IiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6WyJkdDRoLWNhIiwiYWNjb3VudCJdLCJzdWIiOiIwNDIzYTVmMy0zYWE2LTQ5YTgtYWJkZi00ODVlMjNkODA4YmMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdDRoLWNhIiwic2lkIjoiNDBjMGNlNmEtYjc4MC00NDM2LWI4ZWQtYzA5ODcwMjMzNGY0IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmNzZWNyZXQgcHJvZmlsZSBlbWFpbCIsImluc3RpdHV0aW9uIjoiQXRoZW5hIFJlc2VhcmNoIENlbnRlciIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IkNoYXJhIFRzb3VrYWxhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoieHRzb3VrYWxhQGdtYWlsLmNvbSIsImdpdmVuX25hbWUiOiJDaGFyYSIsImZhbWlseV9uYW1lIjoiVHNvdWthbGEiLCJlbWFpbCI6Inh0c291a2FsYUBnbWFpbC5jb20ifQ.cxT7sGvRDXOgLOGR7cczE2vuTDxehhpgWwLsuEYZ0hiakpq0JUNjrZJkt8BupGW8xvL42RgElaeodC9wa6kRAA" \
-H "Content-Type: application/json" \
"https://inb.bsc.es/auth/realms/datatools4heart/account/"

GET USER INFO 
curl -H "Accept: application/json" -H "Authorization: Bearer eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk4NjUxMDMsImlhdCI6MTc1OTg2MzMwMywianRpIjoiMGNiNzk2ZDItNzI2ZS00YzU1LWI5MjYtZmYxZTkzOWFmZDlhIiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6WyJkdDRoLWNhIiwiYWNjb3VudCJdLCJzdWIiOiIwNDIzYTVmMy0zYWE2LTQ5YTgtYWJkZi00ODVlMjNkODA4YmMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdDRoLWNhIiwic2lkIjoiN2JkOWVlM2EtZWVjMi00NjIxLTk1YmQtNjc3MmE3MzlmZGEzIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmNzZWNyZXQgcHJvZmlsZSBlbWFpbCIsImluc3RpdHV0aW9uIjoiQXRoZW5hIFIuQy4iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImJjc2VjcmV0IjoieGluekNyalhJSVlFIiwibmFtZSI6IkNoYXJhIFRzb3VrYWxhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoieHRzb3VrYWxhQGdtYWlsLmNvbSIsImdpdmVuX25hbWUiOiJDaGFyYSIsImZhbWlseV9uYW1lIjoiVHNvdWthbGEiLCJlbWFpbCI6Inh0c291a2FsYUBnbWFpbC5jb20ifQ.SsLbHvj74sKAvoWy6ElwyneFhd8NfSxO9wslVWC1f_z88T2EcGOmSSYNVgsFOoa-SqgS1T3nBpcxIL8mc453Aw" "https://inb.bsc.es/auth/realms/datatools4heart/protocol/openid-connect/userinfo"


PUT DATA 

curl -H "Accept: application/json" -H \
"Authorization: Bearer eyJhbGciOiJFZERTQSIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItOU9YSFRmcUlNOGZ0OTE0cy1MUXZxUlByWU9UTVk4MkJsSVc1NXdmYmljIn0.eyJleHAiOjE3NTk4Njg2OTgsImlhdCI6MTc1OTg2Njg5OCwianRpIjoiMWI1YzFiZWQtMTdlYi00M2E3LWIxNGQtMWRmYWY2OGRhMjU0IiwiaXNzIjoiaHR0cHM6Ly9pbmIuYnNjLmVzL2F1dGgvcmVhbG1zL2RhdGF0b29sczRoZWFydCIsImF1ZCI6WyJkdDRoLWNhIiwiYWNjb3VudCJdLCJzdWIiOiIwNDIzYTVmMy0zYWE2LTQ5YTgtYWJkZi00ODVlMjNkODA4YmMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdDRoLWNhIiwic2lkIjoiYWE1ZDgyOWUtMWE5Zi00ODZkLWE0MGYtODU4YjFkY2NhMWExIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmNzZWNyZXQgcHJvZmlsZSBlbWFpbCIsImluc3RpdHV0aW9uIjoiYnNjIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJiY3NlY3JldCI6ImFvSnF4Vm1mTFdmTyIsIm5hbWUiOiJDaGFyYSBUc291a2FsYSIsInByZWZlcnJlZF91c2VybmFtZSI6Inh0c291a2FsYUBnbWFpbC5jb20iLCJnaXZlbl9uYW1lIjoiQ2hhcmEiLCJmYW1pbHlfbmFtZSI6IlRzb3VrYWxhIiwiZW1haWwiOiJ4dHNvdWthbGFAZ21haWwuY29tIn0.TuPMg3CVvrl1c7YaAyM3nP4Up8C0kvywWpZtyRCBs_yiBdQLEpCnkGkbnp5PwedwcHWfkMwcMmmhHMa0QHwRDg" -H "Content-Type: application/json" \
"https://inb.bsc.es/auth/realms/datatools4heart/account/" -d \
'{
   "attributes": {
     "given_name": "Chara",
     "family_name": "Tsoukala",
     "institution": "Athena Research Center",
     "bcsecret": ""
   }
}'


here you can get certs and public keys to verify token (token has a signature )
https://inb.bsc.es/auth/realms/datatools4heart/.well-known/openid-configuration
